<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">
  <!--- <link rel="shortcut icon" href="favicon.png"> -->
 
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital@0;1&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="{{ url_for('static', filename= 'css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename= 'css/animate.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename= 'fonts/icomoon/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">



  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function cb(selection) {
            $.getJSON({
                url: "/callback", data: { 'data': selection }, success: function (result) {
                    Plotly.newPlot('chart', result, {staticPlot: true});;
                }
            });
        }
    </script>

</head>
<body>
  <div class="lines-wrap">
    <div class="lines-inner">
      <div class="lines"></div>
    </div>
  </div>

  <div class="custom-hero">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <h1 class="hero-heading">Twitter Clustering</h1>
          <div  class="line js-line mx-auto mb-3 my-3"></div>
          <p class="sub-text">Kacper Staron, Jakub Szypu≈Ça, Anna Urbala</p>
        </div>
      </div>
    </div>
  </div>



  <div class="site-section">
    <div class="container">
      <div class="row align-items-center justify-content-around">

        <div class="col-lg-4">
          <div class="panel">
            <h2>Graph parameters</h2>

            <form>
              <label for="word">Keyword:</label>
              <input type="text" class="text" id="word" name="word"><br>
              <label for="genie_n">Number of classes:</label>
              <input type="number" class="number" id="genie_n" name="genie_n" min="2"><br>
              <label for="genie_th">Treshold:</label>
              <span id="val"></span><br>
              <input type="range" class="slider" id="genie_th" name="genie_th" min="0" max="1" step="0.01"><br>
              <p1>Graph type:</p1><br>
              <input type="radio" name="graph" id="network" value="0">
              <label for="network">heatmap</label><br>
              <input type="radio" name="graph" id="circle" value="1">
              <label for="circle">circle pack</label><br>
            </form>




          </div>

          <div class="panel">
            <h2>Weight dictionary</h2>

            <form>
              <label for="follow">Follow:</label>
              <input type="number" class="number" id="follow" name="follow"><br>
              <label for="retweet">Retweet:</label>
              <input type="number" class="number" id="retweet" name="retweet"><br>
              <label for="like">Like:</label>
              <input type="number" class="number" id="like" name="like"><br>
              <label for="mention">Mention:</label>
              <input type="number" class="number" id="mention" name="mention"><br>
              <label for="quote">Quote:</label>
              <input type="number" class="number" id="quote" name="quote"><br>
              <label for="reply">Reply:</label>
              <input type="number" class="number" id="reply" name="reply"><br>
              <label for="friend">Friend:</label>
              <input type="number" class="number" id="friend" name="friend"><br>
            </form>


          </div>



        </div>




        <div class="col-lg-8">
          <div class="center">
            <input type="button" value="Generate graph" onclick="cb(document.getElementById('word').value + ';' + document.getElementById('genie_n').value + ';' + document.getElementById('genie_th').value + ';' + document.querySelector('input[name=graph]:checked').value + ';' + document.getElementById('follow').value + ';' + document.getElementById('retweet').value + ';' + document.getElementById('like').value + ';' + document.getElementById('mention').value + ';' + document.getElementById('quote').value + ';' + document.getElementById('reply').value + ';' + document.getElementById('friend').value)">
          </div>


          <div id="chart" class="chart"></div>

        </div>




      </div>
    </div>
  </div>


  <div id="overlayer"></div>
  <div class="loader">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>




  <script src="{{ url_for('static', filename= 'js/jquery-3.5.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/jquery-migrate-3.0.0.min.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/aos.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/jquery.stellar.min.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/jquery.waypoints.min.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/jquery.lettering.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/TweenMax.min.js') }}"></script>

  <script src="{{ url_for('static', filename= 'js/custom.js') }}"></script>
  <script src="{{ url_for('static', filename= 'js/slider.js') }}"></script>



</body>

<script>
    d = {{ graphJSON | safe }};
    //d.config={staticPlot: true};
    Plotly.newPlot('chart', d, {});
    
</script>

</html>